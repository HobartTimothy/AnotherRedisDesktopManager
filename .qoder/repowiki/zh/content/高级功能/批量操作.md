# æ‰¹é‡æ“ä½œåŠŸèƒ½è¯¦ç»†æ–‡æ¡£

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue)
- [KeyList.vue](file://src/components/KeyList.vue)
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue)
- [redisClient.js](file://src/redisClient.js)
- [Tabs.vue](file://src/components/Tabs.vue)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](#ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ)
3. [æ ¸å¿ƒç»„ä»¶åˆ†æ](#æ ¸å¿ƒç»„ä»¶åˆ†æ)
4. [æ‰¹é‡åˆ é™¤åŠŸèƒ½è¯¦è§£](#æ‰¹é‡åˆ é™¤åŠŸèƒ½è¯¦è§£)
5. [ä¸KeyListç»„ä»¶çš„é›†æˆæœºåˆ¶](#ä¸keylistç»„ä»¶çš„é›†æˆæœºåˆ¶)
6. [ç”¨æˆ·ç•Œé¢äº¤äº’è®¾è®¡](#ç”¨æˆ·ç•Œé¢äº¤äº’è®¾è®¡)
7. [æ€§èƒ½ä¼˜åŒ–æªæ–½](#æ€§èƒ½ä¼˜åŒ–æªæ–½)
8. [é”™è¯¯å¤„ç†ç­–ç•¥](#é”™è¯¯å¤„ç†ç­–ç•¥)
9. [å®‰å…¨æ³¨æ„äº‹é¡¹](#å®‰å…¨æ³¨æ„äº‹é¡¹)
10. [æ‰©å±•å¼€å‘æŒ‡å—](#æ‰©å±•å¼€å‘æŒ‡å—)
11. [æ€»ç»“](#æ€»ç»“)

## ç®€ä»‹

AnotherRedisDesktopManagerçš„æ‰¹é‡æ“ä½œåŠŸèƒ½æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå…è®¸ç”¨æˆ·ä¸€æ¬¡æ€§åˆ é™¤å¤šä¸ªRedisé”®ã€‚è¯¥åŠŸèƒ½é€šè¿‡DeleteBatch.vueç»„ä»¶å®ç°ï¼Œæä¾›äº†ç›´è§‚çš„ç”¨æˆ·ç•Œé¢å’Œé«˜æ•ˆçš„åç«¯å¤„ç†èƒ½åŠ›ã€‚ç³»ç»Ÿæ”¯æŒå¤šç§æ“ä½œæ¨¡å¼ï¼ŒåŒ…æ‹¬ç²¾ç¡®åŒ¹é…ã€é€šé…ç¬¦åŒ¹é…å’Œæ‰‹åŠ¨é€‰æ‹©ï¼Œå¹¶é’ˆå¯¹ä¸åŒç±»å‹çš„Rediséƒ¨ç½²ï¼ˆå•æœºã€é›†ç¾¤ã€å“¨å…µï¼‰è¿›è¡Œäº†ä¼˜åŒ–ã€‚

## ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

æ‰¹é‡æ“ä½œåŠŸèƒ½é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œä¸»è¦ç”±ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶æ„æˆï¼š

```mermaid
graph TB
subgraph "ç”¨æˆ·ç•Œé¢å±‚"
UI[DeleteBatch.vue]
KT[KeyListVirtualTree.vue]
KL[KeyList.vue]
end
subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
Bus[äº‹ä»¶æ€»çº¿]
Client[Rediså®¢æˆ·ç«¯]
end
subgraph "æ•°æ®å­˜å‚¨å±‚"
Redis[(RedisæœåŠ¡å™¨)]
end
UI --> Bus
KT --> Bus
Bus --> UI
UI --> Client
Client --> Redis
KL --> Client
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L1-L257)
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L1-L623)
- [Tabs.vue](file://src/components/Tabs.vue#L34-L90)

## æ ¸å¿ƒç»„ä»¶åˆ†æ

### DeleteBatch.vueç»„ä»¶

DeleteBatch.vueæ˜¯æ‰¹é‡åˆ é™¤åŠŸèƒ½çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£å¤„ç†é”®çš„é€‰æ‹©ã€æ‰«æã€æ˜¾ç¤ºå’Œåˆ é™¤æ“ä½œã€‚

#### ç»„ä»¶ç»“æ„

```mermaid
classDiagram
class DeleteBatch {
+Array allKeysList
+Boolean loadingScan
+Boolean loadingDelete
+Array scanStreams
+Boolean scanningEnd
+Object rule
+initKeys() void
+addToList(keys) void
+confirmDelete() void
+afterDelete() void
+deleteFailed(msg) void
+toggleScanning(forcePause) void
}
class RedisClient {
+scanBufferStream(options) Stream
+del(keys) Promise
+nodes() Array
}
DeleteBatch --> RedisClient : ä½¿ç”¨
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L45-L223)

#### å…³é”®å±æ€§å’Œæ–¹æ³•

| å±æ€§/æ–¹æ³• | ç±»å‹ | æè¿° |
|-----------|------|------|
| `allKeysList` | Array | å­˜å‚¨æ‰«æåˆ°çš„æ‰€æœ‰é”®å¯¹è±¡ |
| `loadingScan` | Boolean | æ‰«æçŠ¶æ€æŒ‡ç¤ºå™¨ |
| `loadingDelete` | Boolean | åˆ é™¤çŠ¶æ€æŒ‡ç¤ºå™¨ |
| `rule` | Object | åŒ…å«é”®åˆ—è¡¨å’Œæ¨¡å¼è§„åˆ™çš„å¯¹è±¡ |
| `initKeys()` | Function | åˆå§‹åŒ–é”®æ‰«æè¿‡ç¨‹ |
| `confirmDelete()` | Function | æ‰§è¡Œæ‰¹é‡åˆ é™¤æ“ä½œ |
| `toggleScanning()` | Function | æ§åˆ¶æ‰«ææµçš„æš‚åœ/æ¢å¤ |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L45-L223)

### KeyListVirtualTree.vueç»„ä»¶

KeyListVirtualTree.vueæä¾›äº†æ ‘å½¢ç»“æ„çš„é”®ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå¤šé€‰æ“ä½œå’Œæ‰¹é‡å¤„ç†ã€‚

#### å¤šé€‰æœºåˆ¶

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant Tree as KeyListVirtualTree
participant Bus as äº‹ä»¶æ€»çº¿
participant Delete as DeleteBatch
User->>Tree : å‹¾é€‰å¤šä¸ªé”®
User->>Tree : ç‚¹å‡»æ‰¹é‡åˆ é™¤
Tree->>Tree : æ”¶é›†é€‰ä¸­èŠ‚ç‚¹
Tree->>Bus : emit('openDelBatch')
Bus->>Delete : åˆ›å»ºåˆ é™¤æ‰¹æ¬¡æ ‡ç­¾
Delete->>Delete : æ˜¾ç¤ºé”®åˆ—è¡¨
User->>Delete : ç¡®è®¤åˆ é™¤
Delete->>Delete : æ‰§è¡Œæ‰¹é‡åˆ é™¤
```

**å›¾è¡¨æ¥æº**
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L283-L296)
- [Tabs.vue](file://src/components/Tabs.vue#L73-L76)

**ç« èŠ‚æ¥æº**
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L283-L315)

## æ‰¹é‡åˆ é™¤åŠŸèƒ½è¯¦è§£

### é”®æ‰«ææœºåˆ¶

DeleteBatchç»„ä»¶å®ç°äº†æ™ºèƒ½çš„é”®æ‰«ææœºåˆ¶ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤§é‡é”®æ•°æ®ï¼š

#### æ‰«ææµç¨‹

```mermaid
flowchart TD
Start([å¼€å§‹æ‰«æ]) --> CheckMode{æ£€æŸ¥æ‰«ææ¨¡å¼}
CheckMode --> |ç²¾ç¡®åŒ¹é…| ExactScan[ç²¾ç¡®æ‰«æ]
CheckMode --> |é€šé…ç¬¦åŒ¹é…| PatternScan[æ¨¡å¼æ‰«æ]
PatternScan --> InitStreams[åˆå§‹åŒ–æ‰«ææµ]
InitStreams --> ScanLoop{éå†èŠ‚ç‚¹}
ScanLoop --> |æœ‰èŠ‚ç‚¹| CreateStream[åˆ›å»ºSCANæµ]
CreateStream --> ProcessData[å¤„ç†æ•°æ®å—]
ProcessData --> PauseRender[æš‚åœDOMæ¸²æŸ“]
PauseRender --> ResumeRender[æ¢å¤æ¸²æŸ“]
ResumeRender --> ScanLoop
ScanLoop --> |æ— èŠ‚ç‚¹| Complete[æ‰«æå®Œæˆ]
ExactScan --> Complete
Complete --> End([ç»“æŸ])
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L58-L108)

#### åˆ†æ‰¹å¤„ç†ç­–ç•¥

ç³»ç»Ÿæ ¹æ®Rediséƒ¨ç½²ç±»å‹é‡‡ç”¨ä¸åŒçš„åˆ é™¤ç­–ç•¥ï¼š

| éƒ¨ç½²ç±»å‹ | åˆ é™¤ç­–ç•¥ | æ‰¹æ¬¡å¤§å° | æ€§èƒ½ç‰¹ç‚¹ |
|----------|----------|----------|----------|
| å•æœºRedis | æ‰¹é‡åˆ é™¤ | 5000ä¸ªé”®/æ‰¹æ¬¡ | é«˜æ•ˆï¼Œå‡å°‘ç½‘ç»œå¾€è¿” |
| Redisé›†ç¾¤ | å•é”®åˆ é™¤ | 1ä¸ªé”®/æ‰¹æ¬¡ | é¿å…è·¨èŠ‚ç‚¹æ“ä½œ |
| å“¨å…µæ¨¡å¼ | æ‰¹é‡åˆ é™¤ | å–å†³äºä¸»èŠ‚ç‚¹ | æ ‡å‡†æ‰¹é‡å¤„ç† |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L138-L183)

### åˆ é™¤ç¡®è®¤æµç¨‹

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant UI as DeleteBatch UI
participant Validation as éªŒè¯å™¨
participant Client as Rediså®¢æˆ·ç«¯
participant Notification as é€šçŸ¥ç³»ç»Ÿ
User->>UI : ç‚¹å‡»åˆ é™¤æŒ‰é’®
UI->>Validation : æ£€æŸ¥é”®æ•°é‡
Validation-->>UI : è¿”å›éªŒè¯ç»“æœ
alt é”®æ•°é‡ > 0
UI->>Client : å‘èµ·åˆ é™¤è¯·æ±‚
Client-->>UI : è¿”å›åˆ é™¤ç»“æœ
alt åˆ é™¤æˆåŠŸ
UI->>Notification : æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
UI->>UI : åˆ·æ–°é”®åˆ—è¡¨
UI->>UI : å…³é—­æ ‡ç­¾é¡µ
else åˆ é™¤å¤±è´¥
UI->>Notification : æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
UI->>UI : é‡ç½®çŠ¶æ€
end
else é”®æ•°é‡ = 0
UI->>Notification : æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯
end
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L127-L183)

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L127-L205)

## ä¸KeyListç»„ä»¶çš„é›†æˆæœºåˆ¶

### äº‹ä»¶æ€»çº¿é€šä¿¡

ç³»ç»Ÿé€šè¿‡Vueçš„äº‹ä»¶æ€»çº¿å®ç°ç»„ä»¶é—´çš„é€šä¿¡ï¼š

```mermaid
graph LR
subgraph "KeyListç»„ä»¶"
KL[KeyList.vue]
KVT[KeyListVirtualTree.vue]
end
subgraph "äº‹ä»¶æ€»çº¿"
Bus[Vue Bus]
end
subgraph "DeleteBatchç»„ä»¶"
DB[DeleteBatch.vue]
end
KVT --> |emit('openDelBatch')| Bus
Bus --> |on('openDelBatch')| DB
KL --> |emit('refreshKeyList')| Bus
Bus --> |on('refreshKeyList')| KL
```

**å›¾è¡¨æ¥æº**
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L295)
- [Tabs.vue](file://src/components/Tabs.vue#L73-L76)

### é”®é€‰æ‹©æœºåˆ¶

#### æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼

ç”¨æˆ·å¯ä»¥é€šè¿‡å¤é€‰æ¡†æ‰‹åŠ¨é€‰æ‹©è¦åˆ é™¤çš„é”®ï¼š

```mermaid
flowchart TD
SelectKeys[ç”¨æˆ·é€‰æ‹©é”®] --> CollectKeys[æ”¶é›†é€‰ä¸­é”®]
CollectKeys --> CreateRule[åˆ›å»ºè§„åˆ™å¯¹è±¡]
CreateRule --> EmitEvent[å‘é€äº‹ä»¶]
EmitEvent --> OpenTab[æ‰“å¼€åˆ é™¤æ ‡ç­¾]
OpenTab --> DisplayKeys[æ˜¾ç¤ºé”®åˆ—è¡¨]
```

**å›¾è¡¨æ¥æº**
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L283-L296)

#### æ¨¡å¼åŒ¹é…é€‰æ‹©

ç³»ç»Ÿæ”¯æŒåŸºäºæ¨¡å¼çš„è‡ªåŠ¨é”®é€‰æ‹©ï¼š

| æ¨¡å¼ç±»å‹ | ç¤ºä¾‹ | åŒ¹é…èŒƒå›´ |
|----------|------|----------|
| é€šé…ç¬¦æ¨¡å¼ | `user:*` | æ‰€æœ‰ä»¥"user:"å¼€å¤´çš„é”® |
| æ­£åˆ™è¡¨è¾¾å¼ | `*session*` | åŒ…å«"session"çš„é”® |
| ç²¾ç¡®åŒ¹é… | `config:app` | ç‰¹å®šåç§°çš„é”® |

**ç« èŠ‚æ¥æº**
- [KeyListVirtualTree.vue](file://src/components/KeyListVirtualTree.vue#L251-L254)

## ç”¨æˆ·ç•Œé¢äº¤äº’è®¾è®¡

### é”®åˆ—è¡¨æ˜¾ç¤º

DeleteBatchç»„ä»¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯å¤„ç†å¤§é‡é”®æ•°æ®ï¼š

```mermaid
classDiagram
class VirtualScroll {
+Array items
+Number itemSize
+String keyField
+renderVisibleItems() void
}
class KeyDisplay {
+String str
+Buffer key
+Number index
}
VirtualScroll --> KeyDisplay : æ¸²æŸ“
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L26-L37)

### çŠ¶æ€æŒ‡ç¤ºå™¨

ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„çŠ¶æ€åé¦ˆï¼š

| çŠ¶æ€ | å›¾æ ‡ | æ–‡æœ¬ | å«ä¹‰ |
|------|------|------|------|
| æ‰«æä¸­ | ğŸ”„ | Scanning... | æ­£åœ¨æ‰«æé”® |
| åˆ é™¤ä¸­ | ğŸ”„ | Deleting... | æ­£åœ¨åˆ é™¤é”® |
| å®Œæˆ | âœ… | Total: N | æ˜¾ç¤ºé”®æ€»æ•° |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L5-L12)

### æ“ä½œæ§åˆ¶

```mermaid
stateDiagram-v2
[*] --> Idle : åˆå§‹çŠ¶æ€
Idle --> Scanning : å¼€å§‹æ‰«æ
Scanning --> Paused : æš‚åœæ‰«æ
Paused --> Scanning : ç»§ç»­æ‰«æ
Scanning --> Scanned : æ‰«æå®Œæˆ
Scanned --> Deleting : å¼€å§‹åˆ é™¤
Deleting --> Completed : åˆ é™¤å®Œæˆ
Completed --> [*] : å…³é—­æ ‡ç­¾
Scanning --> Error : æ‰«æé”™è¯¯
Deleting --> Error : åˆ é™¤é”™è¯¯
Error --> Idle : é‡ç½®çŠ¶æ€
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L118-L126)

## æ€§èƒ½ä¼˜åŒ–æªæ–½

### è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯

DeleteBatchç»„ä»¶ä½¿ç”¨vue-virtual-scrolleråº“å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼š

```mermaid
graph TD
A[å¤§é‡é”®æ•°æ®] --> B[è™šæ‹Ÿæ»šåŠ¨å®¹å™¨]
B --> C[åªæ¸²æŸ“å¯è§åŒºåŸŸ]
C --> D[åŠ¨æ€è®¡ç®—é¡¹ç›®ä½ç½®]
D --> E[å¹³æ»‘æ»šåŠ¨ä½“éªŒ]
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L26-L37)

### DOMæ¸²æŸ“ä¼˜åŒ–

ç³»ç»Ÿé‡‡ç”¨é˜²æŠ–å’ŒèŠ‚æµæŠ€æœ¯ä¼˜åŒ–DOMæ›´æ–°ï¼š

```mermaid
sequenceDiagram
participant Scanner as æ‰«æå™¨
participant Stream as æ•°æ®æµ
participant UI as ç”¨æˆ·ç•Œé¢
Scanner->>Stream : æ¥æ”¶æ•°æ®å—
Stream->>UI : è§¦å‘æ•°æ®äº‹ä»¶
UI->>UI : æš‚åœæ‰«ææµ
UI->>UI : å»¶è¿Ÿ100ms
UI->>Stream : æ¢å¤æ‰«ææµ
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L86-L90)

### å†…å­˜ç®¡ç†

ç³»ç»Ÿå®ç°äº†å®Œå–„çš„å†…å­˜æ¸…ç†æœºåˆ¶ï¼š

| æ¸…ç†æ—¶æœº | æ¸…ç†å†…å®¹ | ç›®çš„ |
|----------|----------|------|
| ç»„ä»¶é”€æ¯ | å–æ¶ˆæ‰«ææµ | é˜²æ­¢å†…å­˜æ³„æ¼ |
| åˆ é™¤å®Œæˆ | æ¸…ç©ºé”®åˆ—è¡¨ | é‡Šæ”¾å†…å­˜ |
| é”™è¯¯å‘ç”Ÿ | é‡ç½®çŠ¶æ€ | æ¢å¤æ­£å¸¸çŠ¶æ€ |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L218-L222)

## é”™è¯¯å¤„ç†ç­–ç•¥

### å¼‚å¸¸åˆ†ç±»å¤„ç†

```mermaid
flowchart TD
Error[å‘ç”Ÿé”™è¯¯] --> Type{é”™è¯¯ç±»å‹}
Type --> |ç½‘ç»œé”™è¯¯| NetworkError[ç½‘ç»œå¼‚å¸¸å¤„ç†]
Type --> |æƒé™é”™è¯¯| PermissionError[æƒé™å¼‚å¸¸å¤„ç†]
Type --> |æ•°æ®é”™è¯¯| DataError[æ•°æ®å¼‚å¸¸å¤„ç†]
NetworkError --> Retry[é‡è¯•æœºåˆ¶]
PermissionError --> Notify[é€šçŸ¥ç”¨æˆ·]
DataError --> Log[è®°å½•æ—¥å¿—]
Retry --> Success{é‡è¯•æˆåŠŸ?}
Success --> |æ˜¯| Continue[ç»§ç»­æ“ä½œ]
Success --> |å¦| Fallback[é™çº§å¤„ç†]
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L93-L107)

### é”™è¯¯æ¢å¤æœºåˆ¶

| é”™è¯¯ç±»å‹ | æ¢å¤ç­–ç•¥ | ç”¨æˆ·åé¦ˆ |
|----------|----------|----------|
| æ‰«æä¸­æ–­ | è‡ªåŠ¨é‡è¯• | æ˜¾ç¤ºé‡è¯•æç¤º |
| åˆ é™¤å¤±è´¥ | å•é”®é‡è¯• | æ ‡è®°å¤±è´¥é”® |
| è¿æ¥è¶…æ—¶ | æ–­çº¿é‡è¿ | æç¤ºé‡æ–°è¿æ¥ |
| æƒé™ä¸è¶³ | é™çº§å¤„ç† | æ˜¾ç¤ºæƒé™é”™è¯¯ |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L93-L107)

## å®‰å…¨æ³¨æ„äº‹é¡¹

### ä¸å¯é€†æ€§è­¦å‘Š

ç³»ç»Ÿåœ¨åˆ é™¤å‰æä¾›æ˜ç¡®çš„å®‰å…¨è­¦å‘Šï¼š

```mermaid
flowchart TD
Confirm[ç”¨æˆ·ç¡®è®¤åˆ é™¤] --> Warning[æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯]
Warning --> Triangle[âš ï¸ é‡è¦æç¤º]
Triangle --> Message[æ­¤æ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…æ“ä½œ]
Message --> FinalConfirm[æœ€ç»ˆç¡®è®¤]
FinalConfirm --> Execute[æ‰§è¡Œåˆ é™¤]
```

**å›¾è¡¨æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L6)

### æƒé™æ§åˆ¶

ç³»ç»Ÿå®ç°äº†å¤šå±‚æ¬¡çš„æƒé™æ§åˆ¶ï¼š

| æ§åˆ¶å±‚çº§ | æ£€æŸ¥å†…å®¹ | å¤„ç†æ–¹å¼ |
|----------|----------|----------|
| ç”¨æˆ·ç•Œé¢ | æŒ‰é’®ç¦ç”¨çŠ¶æ€ | æ ¹æ®åŠ è½½çŠ¶æ€è°ƒæ•´ |
| ä¸šåŠ¡é€»è¾‘ | é”®æ•°é‡éªŒè¯ | é˜²æ­¢ç©ºæ“ä½œ |
| åç«¯éªŒè¯ | Rediså‘½ä»¤æƒé™ | ç¡®ä¿æ“ä½œåˆæ³•æ€§ |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L14-L15)

## æ‰©å±•å¼€å‘æŒ‡å—

### æ”¯æŒå…¶ä»–æ‰¹é‡å‘½ä»¤

ç³»ç»Ÿæ¶æ„æ”¯æŒè½»æ¾æ‰©å±•å…¶ä»–æ‰¹é‡æ“ä½œå‘½ä»¤ï¼š

```mermaid
classDiagram
class BatchOperation {
<<interface>>
+execute() Promise
+validate() Boolean
+rollback() Promise
}
class DeleteBatch {
+execute() Promise
+validate() Boolean
}
class ExpireBatch {
+execute() Promise
+validate() Boolean
}
class RenameBatch {
+execute() Promise
+validate() Boolean
}
BatchOperation <|.. DeleteBatch
BatchOperation <|.. ExpireBatch
BatchOperation <|.. RenameBatch
```

### å®ç°æ–°å‘½ä»¤çš„æ­¥éª¤

1. **åˆ›å»ºæ–°çš„ç»„ä»¶**ï¼šç»§æ‰¿åŸºç¡€çš„æ‰¹é‡æ“ä½œç»„ä»¶
2. **å®ç°å‘½ä»¤é€»è¾‘**ï¼šåœ¨`confirmDelete`æ–¹æ³•ä¸­æ·»åŠ å…·ä½“å‘½ä»¤
3. **æ›´æ–°UIç•Œé¢**ï¼šæ·»åŠ ç›¸åº”çš„æ“ä½œæŒ‰é’®å’ŒçŠ¶æ€æŒ‡ç¤º
4. **æµ‹è¯•éªŒè¯**ï¼šç¡®ä¿æ–°åŠŸèƒ½ä¸ç°æœ‰ç³»ç»Ÿå…¼å®¹

### æ‰¹é‡å‘½ä»¤æ‰©å±•è¡¨

| å‘½ä»¤ç±»å‹ | å®ç°éš¾åº¦ | æ€§èƒ½å½±å“ | ä½¿ç”¨åœºæ™¯ |
|----------|----------|----------|----------|
| EXPIRE | ä¸­ç­‰ | ä½ | è®¾ç½®é”®è¿‡æœŸæ—¶é—´ |
| RENAME | ç®€å• | ä¸­ç­‰ | é‡å‘½åé”® |
| MOVE | ç®€å• | ä½ | ç§»åŠ¨é”®åˆ°å…¶ä»–æ•°æ®åº“ |
| TYPE | ç®€å• | æä½ | è·å–é”®ç±»å‹ä¿¡æ¯ |

**ç« èŠ‚æ¥æº**
- [DeleteBatch.vue](file://src/components/DeleteBatch.vue#L138-L183)

## æ€»ç»“

AnotherRedisDesktopManagerçš„æ‰¹é‡æ“ä½œåŠŸèƒ½å±•ç°äº†ä¼˜ç§€çš„è½¯ä»¶æ¶æ„è®¾è®¡å’Œç”¨æˆ·ä½“éªŒç†å¿µã€‚é€šè¿‡DeleteBatch.vueç»„ä»¶ï¼Œç³»ç»Ÿå®ç°äº†é«˜æ•ˆã€å®‰å…¨ã€æ˜“ç”¨çš„æ‰¹é‡é”®åˆ é™¤åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½ä¸ä»…æ»¡è¶³äº†æ—¥å¸¸è¿ç»´éœ€æ±‚ï¼Œè¿˜ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚

### ä¸»è¦ä¼˜åŠ¿

1. **é«˜æ€§èƒ½**ï¼šé‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨å’Œåˆ†æ‰¹å¤„ç†æŠ€æœ¯ï¼Œèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡æ•°æ®
2. **é«˜å¯ç”¨**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶ï¼Œç¡®ä¿æ“ä½œç¨³å®šæ€§
3. **æ˜“æ‰©å±•**ï¼šæ¨¡å—åŒ–æ¶æ„æ”¯æŒå¿«é€Ÿæ·»åŠ æ–°çš„æ‰¹é‡æ“ä½œå‘½ä»¤
4. **ç”¨æˆ·å‹å¥½**ï¼šç›´è§‚çš„ç•Œé¢è®¾è®¡å’Œä¸°å¯Œçš„çŠ¶æ€åé¦ˆ

### æŠ€æœ¯äº®ç‚¹

- æ™ºèƒ½çš„é”®æ‰«æå’Œè¿‡æ»¤æœºåˆ¶
- é’ˆå¯¹ä¸åŒRediséƒ¨ç½²ç±»å‹çš„ä¼˜åŒ–ç­–ç•¥
- å®æ—¶çš„çŠ¶æ€ç›‘æ§å’Œè¿›åº¦åé¦ˆ
- å®Œå–„çš„å†…å­˜ç®¡ç†å’Œèµ„æºæ¸…ç†

è¿™ä¸ªæ‰¹é‡æ“ä½œåŠŸèƒ½ä¸ºRedisç®¡ç†æä¾›äº†ä¸€ä¸ªå¼ºå¤§è€Œå¯é çš„å·¥å…·ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·çš„å·¥ä½œæ•ˆç‡å’Œæ“ä½œä½“éªŒã€‚